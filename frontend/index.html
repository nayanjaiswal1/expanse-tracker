<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finance Tracker</title>

    <!-- Critical CSS for preventing layout shifts - Minified -->
    <style>
      /* Inter font fallback with size-adjust to match metrics */
      @font-face{font-family:'Inter-Fallback';src:local('Arial');ascent-override:90.20%;descent-override:22.48%;line-gap-override:0;size-adjust:107.40%}

      /* JetBrains Mono font fallback with monospace metrics */
      @font-face{font-family:'JetBrains-Mono-Fallback';src:local('Courier New');ascent-override:92%;descent-override:24%;line-gap-override:0;size-adjust:100%}

      /* Base layout to prevent CLS */
      body,#root{margin:0;padding:0;min-height:100vh;font-family:'Inter-Fallback',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif}
      #root{display:flex;flex-direction:column}
      .fonts-loaded body,.fonts-loaded #root{font-family:'Inter','Inter-Fallback',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif}

      /* Prevent layout shifts */
      .notion-table-row{min-height:44px}
      .fixed-button{width:56px;height:56px}
      table{table-layout:fixed}
      td,th{overflow:hidden;text-overflow:ellipsis}

      /* Performance optimizations */
      .group:hover,.transition-all,.transition-colors,.transition-transform{will-change:transform,opacity}
    </style>

    <!-- DNS Prefetch and Preconnect for faster external resource loading -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Preconnect to API server for faster API requests (dev/prod aware) -->
    <script>
      // Preconnect to backend API in production
      if (window.location.hostname !== 'localhost') {
        const link = document.createElement('link');
        link.rel = 'preconnect';
        link.href = window.location.origin;
        document.head.appendChild(link);
      }
    </script>

    <!-- Optimized font loading with font-display: optional to prevent CLS -->
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=optional">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=optional" rel="stylesheet" media="print" onload="this.media='all'; document.documentElement.classList.add('fonts-loaded')">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=optional" rel="stylesheet"></noscript>

    <!-- JetBrains Mono for code/monospace text -->
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=optional">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=optional" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=optional" rel="stylesheet"></noscript>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>